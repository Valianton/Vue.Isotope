"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(){function t(t,e){return{name:"isotope",props:{options:{type:Object,default:{layoutMode:"masonry",masonry:{gutter:10}}},itemSelector:{type:String,default:"item"},list:{type:Array,required:!0}},render:function(t){var e=this,i={},n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=this.removedItems=[];r.forEach(function(t){return function(t,e){if(t.data){var i=t.data.staticClass?t.data.staticClass+" ":"";t.data.staticClass=i+e}}(t,e.itemSelector)});for(var l=0;l<r.length;l++){var a=r[l];if(a.tag)if(null!=a.key&&0!==String(a.key).indexOf("__vlist"))o.push(a),i[a.key]=a;else{var u=a.componentOptions,f=u?u.Ctor.options.name||u.tag||"":a.tag;console.log("Warning template error: isotope children must be keyed: <"+f+">")}}var c=this.displayChildren=[].concat(o);if(n)for(var h=0;h<n.length;h++){var d=n[h];i[d.key]||(c.splice(h,0,d),s.push(d))}return t("div",null,c)},mounted:function(){var i=this,n=t.merge({},this.compiledOptions),r=function(e){t.forOwn(e,function(t,n){e[n]=function(e){var n=e.__underlying_element;return t.call(i,n.vm,n.index)}})};r(n.getSortData),r(n.getFilterData),this._isotopeOptions=n,n.filter&&(n.filter=this.buildFilterFunction(n.filter)),this.$nextTick(function(){i.link(),i.listen();var t=new e(i.$el,n);t._requestUpdate=function(){t._willUpdate||(t._willUpdate=!0,i.$nextTick(function(){t.arrange(),t._willUpdate=!1}))},i.iso=t})},beforeDestroy:function(){t.forEach(this._listeners,function(t){t()}),this._filterlistener&&this._filterlistener(),this.iso=null},beforeUpdate:function(){this._oldChidren=Array.prototype.slice.call(this.$el.children)},updated:function(){if(this.iso){var e=[].concat(_toConsumableArray(this.$el.children)),i=t.difference(e,this._oldChidren),n=this.removedItems.map(function(t){return e.find(function(e){return e===t.elm})});this.cleanupNodes(),this.link(),(n.length||i.length)&&(this.listen(),this.iso.remove(n),this.iso.insert(i),this.iso._requestUpdate())}},methods:{cleanupNodes:function(){var t=this;this.removedItems.reverse(),this.removedItems.forEach(function(e){var i=t._vnode.children.findIndex(function(t){return t===e});t._vnode.children.splice(i,1)})},link:function(){var t=this;(this.$slots.default||[]).forEach(function(e,i){var n=e.elm;n&&(n.__underlying_element={vm:t.list[i],index:i})})},listen:function(){var e=this;this._listeners=t(this.compiledOptions.getSortData).map(function(i){return t.map(e.list,function(t,n){return e.$watch(function(){return i(t)},function(){e.iso.updateSortData(),e.iso._requestUpdate()})})}).flatten().value()},sort:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;t.isString(e)&&(n={sortBy:e,sortAscending:i}),this.arrange(n),this.$emit("sort",e)},buildFilterFunction:function(e){var i=this,n=this._isotopeOptions.getFilterData[e];return this._filterlistener=this.$watch(function(){return t.map(i.list,function(t,n){return i.options.getFilterData[e](t,n)})},function(){i.iso._requestUpdate()}),n},filter:function(t){var e=this.buildFilterFunction(t);this.arrange({filter:e}),this.$emit("filter",t)},unfilter:function(){this.arrange({filter:function(){return!0}}),this.$emit("filter",null)},layout:function(e){var i=e;t.isString(e)&&(i={layoutMode:e}),this.arrange(i),this.$emit("layout",i)},arrange:function(t){this.iso.arrange(t),this.$emit("arrange",t)},shuffle:function(){this.iso.shuffle(),this.$emit("shuffle"),this.$emit("sort",null)},getFilteredItemElements:function(){return this.iso.getFilteredItemElements()},getElementItems:function(){return this.iso.getElementItems()}},computed:{compiledOptions:function(){var e=t.merge({},this.options,{itemSelector:"."+this.itemSelector,isJQueryFiltering:!1});return t.forOwn(e.getSortData,function(i,n){t.isString(i)&&(e.getSortData[n]=function(t){return t[i]})}),e}}}}if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))){var e=require("lodash"),i=require("isotope-layout");module.exports=t(e,i)}else if("function"==typeof define&&define.amd)define(["lodash","Isotope"],function(e,i){return t(e,i)});else if(window.Vue&&window._&&window.Isotope){var n=t(window._,window.Isotope);Vue.component("isotope",n)}}();